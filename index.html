<!-- Licensed under a BSD license. See license.html for license -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <!-- CSS only -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<!--Gendy stkesheet-->
<link rel="stylesheet" href="css/rgpro-style.css">
<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

<!--Globe module load here-->
<!--
<script type="text/javascript" src="build/three.module.js"></script>
<script type="text/javascript" src="build/OrbitControls.js"></script>
<script type="text/javascript" src="build/dat.gui.module.js"></script>
-->
<script type="module">


import * as THREE from '/build/three.module.js';
import {OrbitControls} from '/build/OrbitControls.js';
import {GUI} from '/build/dat.gui.module.js';

var Shaders = {
    'earth' : {
      uniforms: {
        'texture': { type: 't', value: null }
      },
      vertexShader: [
        'varying vec3 vNormal;',
        'varying vec2 vUv;',
        'void main() {',
          'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',
          'vNormal = normalize( normalMatrix * normal );',
          'vUv = uv;',
        '}'
      ].join('\n'),
      fragmentShader: [
        'uniform sampler2D texture;',
        'varying vec3 vNormal;',
        'varying vec2 vUv;',
        'void main() {',
          'vec3 diffuse = texture2D( texture, vUv ).xyz;',
          'float intensity = 1.05 - dot( vNormal, vec3( 0.0, 0.0, 1.0 ) );',
          'vec3 atmosphere = vec3( 1.0, 1.0, 1.0 ) * pow( intensity, 3.0 );',
          'gl_FragColor = vec4( diffuse + atmosphere, 1.0 );',
        '}'
      ].join('\n')
    },
    'atmosphere' : {
      uniforms: {},
      vertexShader: [
        'varying vec3 vNormal;',
        'void main() {',
          'vNormal = normalize( normalMatrix * normal );',
          'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );',
        '}'
      ].join('\n'),
      fragmentShader: [
        'varying vec3 vNormal;',
        'void main() {',
          'float intensity = pow( 0.8 - dot( vNormal, vec3( 0, 0, 1.0 ) ), 12.0 );',
          'gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 ) * intensity;',
        '}'
      ].join('\n')
    }
  };
  var materialatmo , mesh;
  

function main() {
  var shader, uniforms;
 


  const canvas = document.querySelector('#c');
  const renderer = new THREE.WebGLRenderer({canvas});
  const fov = 60;
  const aspect = 2;  // the canvas default
  const near = 0.1;
  const far = 10;
  const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
  camera.position.z = 2.5;
  const controls = new OrbitControls(camera, canvas);
  controls.enableDamping = true;
  controls.enablePan = false;
  controls.minDistance = 2.5;
  controls.maxDistance = 2.5;
  controls.update();

  const scene = new THREE.Scene();

  scene.background = new THREE.Color('#000');
  {
    const loader = new THREE.TextureLoader();
    //texture fundamentals
    //const texture = loader.load('/img/world-3.png', render);

    const geometry = new THREE.SphereBufferGeometry(1, 64, 32);
    //constructor fundamentals
    //const material = new THREE.MeshBasicMaterial({map: texture});
    //scene.add(new THREE.Mesh(geometry, material));

    


     /*atmosphereeeeeeeee GLOBE SHADER INHALT*/ 

     shader = Shaders['earth'];
      uniforms = THREE.UniformsUtils.clone(shader.uniforms);
      uniforms['texture'].value = THREE.ImageUtils.loadTexture('../tex/world-3.png');

      materialatmo = new THREE.ShaderMaterial({

uniforms: uniforms,
vertexShader: shader.vertexShader,
fragmentShader: shader.fragmentShader

});

/*atmosphereeeeeeeee*/ 
mesh = new THREE.Mesh(geometry, materialatmo);
mesh.rotation.y = Math.PI*2;
scene.add(mesh);

    


    shader = Shaders['atmosphere'];
    //uniforms = THREE.UniformsUtils.clone(shader.uniforms);

    materialatmo = new THREE.ShaderMaterial({

          uniforms: uniforms,
          vertexShader: shader.vertexShader,
          fragmentShader: shader.fragmentShader,
          side: THREE.BackSide,
          blending: THREE.AdditiveBlending,
          transparent: true

        });

        mesh = new THREE.Mesh(geometry, materialatmo);
    mesh.scale.set( 1.2, 1.2, 1.2 );
    scene.add(mesh);
         /*atmosphereeeeeeeee*/ 

    
  }


  
  async function loadJSON(url) {
    const req = await fetch(url);
    return req.json();
  }
  let countryInfos;
  async function loadCountryData() {
    countryInfos = await loadJSON('../rgpro-projects.json');  /* threejsfundamentals: url */
    const lonFudge = Math.PI * 1.5;
    const latFudge = Math.PI;
    // these helpers will make it easy to position the boxes
    // We can rotate the lon helper on its Y axis to the longitude
    const lonHelper = new THREE.Object3D();
    // We rotate the latHelper on its X axis to the latitude
    const latHelper = new THREE.Object3D();
    lonHelper.add(latHelper);
    // The position helper moves the object to the edge of the sphere
    const positionHelper = new THREE.Object3D();
    positionHelper.position.z = 1;
    latHelper.add(positionHelper);
    const labelParentElem = document.querySelector('#labels');
    for (const countryInfo of countryInfos) {
      const {lat, lon, min, max, name, id, hyperlink, datatarget, datatoggle} = countryInfo;
      // adjust the helpers to point to the latitude and longitude
      lonHelper.rotation.y = THREE.Math.degToRad(lon) + lonFudge;
      latHelper.rotation.x = THREE.Math.degToRad(lat) + latFudge;
      // get the position of the lat/lon
      positionHelper.updateWorldMatrix(true, false);
      const position = new THREE.Vector3();
      positionHelper.getWorldPosition(position);
      countryInfo.position = position;
      // compute the area for each country
      const width = max[0] - min[0];
      const height = max[1] - min[1];
      const area = width * height;
      countryInfo.area = area;
      // add an element for each country
      const elem = document.createElement('button');
      const projectTitle = document.createElement('div');
      //const ping = document.createElement('span');
      elem.className = 'location';
      projectTitle.className = 'projectText fade-in-right';
      //ping.className = 'ping';
      //div constructor
      //elem.textContent = name;
      //button name
      projectTitle.textContent = name;
      elem.id = id;
      elem.href = hyperlink;
      elem.setAttribute('data-target', datatarget);
      elem.setAttribute('data-toggle', datatoggle);
      elem.setAttribute('type', 'button');
      labelParentElem.appendChild(elem);
      elem.appendChild(projectTitle);
      //elem.appendChild(ping);
      countryInfo.elem = elem;
    }
    requestRenderIfNotRequested();
  }
  loadCountryData();
  const tempV = new THREE.Vector3();
  const cameraToPoint = new THREE.Vector3();
  const cameraPosition = new THREE.Vector3();
  const normalMatrix = new THREE.Matrix3();
  const settings = {
    minArea: 0,
    maxVisibleDot: -0.2,
  };
  /*
  const gui = new GUI({width: 300});
  gui.add(settings, 'minArea', 0, 50).onChange(requestRenderIfNotRequested);
  gui.add(settings, 'maxVisibleDot', -1, 1, 0.01).onChange(requestRenderIfNotRequested);
  */

  function updateLabels() {
    if (!countryInfos) {
      return;
    }
    const large = settings.minArea * settings.minArea;
    // get a matrix that represents a relative orientation of the camera
    normalMatrix.getNormalMatrix(camera.matrixWorldInverse);
    // get the camera's position
    camera.getWorldPosition(cameraPosition);
    for (const countryInfo of countryInfos) {
      const {position, elem, area} = countryInfo;
      // large enough?
      if (area < large) {
        elem.style.display = 'none';
        continue;
      }
      // Orient the position based on the camera's orientation.
      // Since the sphere is at the origin and the sphere is a unit sphere
      // this gives us a camera relative direction vector for the position.
      tempV.copy(position);
      tempV.applyMatrix3(normalMatrix);
      // compute the direction to this position from the camera
      cameraToPoint.copy(position);
      cameraToPoint.applyMatrix4(camera.matrixWorldInverse).normalize();
      // get the dot product of camera relative direction to this position
      // on the globe with the direction from the camera to that point.
      // -1 = facing directly towards the camera
      // 0 = exactly on tangent of the sphere from the camera
      // > 0 = facing away
      const dot = tempV.dot(cameraToPoint);
      // if the orientation is not facing us hide it.
      if (dot > settings.maxVisibleDot) {
        elem.style.display = 'none';
        continue;
      }
      // restore the element to its default display style
      elem.style.display = '';
      // get the normalized screen coordinate of that position
      // x and y will be in the -1 to +1 range with x = -1 being
      // on the left and y = -1 being on the bottom
      tempV.copy(position);
      tempV.project(camera);
      // convert the normalized position to CSS coordinates
      const x = (tempV.x *  .5 + .5) * canvas.clientWidth;
      const y = (tempV.y * -.5 + .5) * canvas.clientHeight;
      // move the elem to that position
      elem.style.transform = `translate(-50%, -50%) translate(${x}px,${y}px)`;
      // set the zIndex for sorting
      elem.style.zIndex = (-tempV.z * .5 + .5) * 100000 | 0;
    }
  }
  function resizeRendererToDisplaySize(renderer) {
    const canvas = renderer.domElement;
    const width = canvas.clientWidth;
    const height = canvas.clientHeight;
    const needResize = canvas.width !== width || canvas.height !== height;
    if (needResize) {
      renderer.setSize(width, height, false);
    }
    return needResize;
  }
  let renderRequested = false;
  function render() {
    renderRequested = undefined;
    if (resizeRendererToDisplaySize(renderer)) {
      const canvas = renderer.domElement;
      camera.aspect = canvas.clientWidth / canvas.clientHeight;
      camera.updateProjectionMatrix();
    }
    controls.update();
    updateLabels();
    renderer.render(scene, camera);
  }
  render();
  function requestRenderIfNotRequested() {
    if (!renderRequested) {
      renderRequested = true;
      requestAnimationFrame(render);
    }
  }
  controls.addEventListener('change', requestRenderIfNotRequested);
  window.addEventListener('resize', requestRenderIfNotRequested);
}
main();
</script>

<title>RGpro-ver-2.0.0</title>
   
  </head>
  <body>
    <div id="container">
      <!-- Just an image -->
<nav class="navbar navbar-trans navbar-expand-sm fixed-top">
  <a class="navbar-brand" href="#">
    <img src="img/logo/rg_logo.png" alt="" loading="lazy">
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
       
        <button type="button" class="nav-link button-about" data-toggle="modal" data-target="#inhalt">
          About
        </button>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Contact</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          News
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="#">LED wall</a>
          <a class="dropdown-item" href="#">Another action</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Something else here</a>
        </div>
      </li>
      
    </ul>
   
  </div>
</nav>

<!--MODAL ABOUT START-->
<div class="modal fade" id="inhalt" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
     
      <div class="about-body">
        Veröffentlicht Januar 17, 2018März 23, 2018 FabSchreibe einen KommentarVeröffentlicht in News	

After celebrating the premiere in Montréal, RGpro is setting up the new Candice Breitz installation – I´m Your Man – A portrait of Leonard Cohen –  at Anna Schwarz Gallery in Melbourne. At the same time -WILSON MUST GO-, formally known as -LOVE STORY- will be shown at the National Gallery of Victoria. read more […]

      </div>
      
    </div>
  </div>
</div>
<!--MODAL ABOUT END-->
      <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="project-content ">
      <div class="modal-header b-bottom fixed-top ">
        <h5 class="modal-title" id="exampleModalLabel">Candice Breitz</h5>
        <button class="info-button" type="button" data-toggle="collapse" data-target="#projectInfo" aria-expanded="false" aria-controls="projectInfo">
        <span class="mx-auto">info &#8595;</span>
      </button>
      
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span class="close-modal" aria-hidden="true">&#10005;</span>
        </button>
      </div>
      <div class="modal-body fade-in-top">
        <div class="row">
          <div class="collapse" id="projectInfo">
            <div class="card-rg card-body ">
              <div class="project-info-style fade-in-top">
                <p>Candice Breitz (born 1972, Johannesburg[1]) is a South African artist who works primarily in video and photography.[2][3] She won a 2007 Prince Pierre de Monaco Prize.[4] Her work is often characterized by multi-channel moving image installations, with a focus on the “attention economy” of contemporary media and culture,[5] often represented in the parallelism of the identification with fictional characters and celebrity figures and widespread indifference to global issues.[6] In 2017, she was selected to represent South Africa at the Venice Biennale.[7]</p>
                <p>Candice Breitz currently lives in Berlin, and has been a tenured professor at the Braunschweig University of Art since 2007. Breitz uses found video footage, appropriating video from popular culture.[8] Breitz is represented by White Cube (London), Kaufmann Repetto (Milan) and the Goodman Gallery (Johannesburg + Cape Town). Breitz holds degrees from the University of the Witwatersrand, the University of Chicago, and Columbia University.[9] She has been holding lectures and workshops at institutions such as Zentrum Paul Klee,[10] Stony Brook Manhattan,[11] Smith College Museum of Art,[12] and the mentorship program Forecast.[13]</p>
              <p>Breitz's 2016 seven-channel installation, Love Story,</p>
                       </div>
          </div>
          </div>
        <div class="col-12">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
         
          <div class="carousel-inner">
            <div class="carousel-item active" style="background-image: url('img/projects/project_0.jpg')">
             
            </div>
            <div class="carousel-item" style="background-image: url('img/projects/project_1.jpg')">
             
            </div>
            <div class="carousel-item" style="background-image: url('img/projects/project_2.jpg')">
           
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
           
           
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
           
            
          </a>
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
        </div>
       
      </div>
    
      <div class="col-12 d-none">
        <div class="project-text">
          <p>Candice Breitz (born 1972, Johannesburg[1]) is a South African artist who works primarily in video and photography.[2][3] She won a 2007 Prince Pierre de Monaco Prize.[4] Her work is often characterized by multi-channel moving image installations, with a focus on the “attention economy” of contemporary media and culture,[5] often represented in the parallelism of the identification with fictional characters and celebrity figures and widespread indifference to global issues.[6] In 2017, she was selected to represent South Africa at the Venice Biennale.[7]</p>
        <p>Candice Breitz currently lives in Berlin, and has been a tenured professor at the Braunschweig University of Art since 2007. Breitz uses found video footage, appropriating video from popular culture.[8] Breitz is represented by White Cube (London), Kaufmann Repetto (Milan) and the Goodman Gallery (Johannesburg + Cape Town). Breitz holds degrees from the University of the Witwatersrand, the University of Chicago, and Columbia University.[9] She has been holding lectures and workshops at institutions such as Zentrum Paul Klee,[10] Stony Brook Manhattan,[11] Smith College Museum of Art,[12] and the mentorship program Forecast.[13]</p>
      <p>Breitz's 2016 seven-channel installation, Love Story, shares the personal narratives of six individuals who have fled their countries in response to a range of oppressive conditions: Sarah Ezzat Mardini, who escaped war-torn Syria; José Maria João, a former child soldier from Angola; Mamy Maloba Langa, a survivor from the Democratic Republic of the Congo; Shabeena Francis Saveri, a transgender activist from India; Luis Ernesto Nava Molero, a political dissident from Venezuela; and Farah Abdi Mohamed, an idealistic young atheist from Somalia.[14]</p>  
      </div>
        
      </div>
    </div>
    </div>
      <div class="project-footer">
        <div class="row no-gutters">
        <div class="col-12 b-top">
          <div class="row">
            <div class="col-3">
              <span class="head-info">Artist</span></br>
              <span class="content-info">Candice Breitz</span>
            </div>
            <div class="col-3">
              <span class="head-info">Media Type</span></br>
              <span class="content-info">Video Installation</span>
            </div>
  
            <div class="col-3">
              <span class="head-info">Venue</span></br>
              <span class="content-info">Athens Conservatoire</span>
            </div>
            <div class="col-3">
              <span class="head-info">Year</span></br>
              <span class="content-info">2019</span>
            </div>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>
</div>
      <canvas id="c"></canvas>
      <div id="labels"></div>
    </div>
  </body>
  <script>
 /*
$( document ).ready(function() {
 
$('#exampleModal').modal({
  backdrop: true,
  focus:false
})


$('#exampleModal').on('shown.bs.modal', function (e) {
  // do something...
  $('#project-2 > div').css('visibility','visible');
})
$('#exampleModal').on('hidden.bs.modal', function (e) {
  // do something...
  $('#project-2 > div').css('visibility','hidden');
})
});
*/
  </script>


</script>
</html>